\documentclass[a4paper,english]{article}
\usepackage{hyperref}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage{amssymb}
\usepackage[cm]{fullpage}
\usepackage{babel}

\begin{document}

\section{Preliminaries}

\begin{itemize}
  \item See: \url{http://www.mancoosi.org/misc-2012/criteria/}
  \item Package universe: $\mathcal{P}$ 
  \item Installation: $\mathcal{I}\subseteq\mathcal{P}$
  \item Closure: $\mathcal{C}\subseteq\mathcal{P}$
  \item Removed (by explicit request): $\mathcal{R}\subseteq\mathcal{P}$
  \item Optimization criteria: $\mathcal{O}$
  \item Names: $X.\mathrm{name}=\{p.\mathrm{name}\mid p\in X\}$
  \item Versions: $X.\mathrm{version}(p)=\{q.\mathrm{version}\mid q\in X,p.\mathrm{name}=q.\mathrm{name}\}$
\end{itemize}

\section{Closure}

\begin{table}
  \centering{}\begin{tabular}{c||c|c}
    selector & minimize & maximize\\
    \hline 
    solution $S$ & $S^{-}=\emptyset$ & $S^{+}=\mathcal{P}$\\
    changed $C$ & $C^{-}=\mathcal{I}$ & $C^{+}=\mathcal{P}\setminus \mathcal{I}$\\
    new $N$ & $N^{-}=\emptyset$ & $N^{+}=\{p\in \mathcal{P}\mid p.\mathrm{name}\notin \mathcal{I}.\mathrm{name}\}$\\
    removed $R$ & $R^{-}=\mathcal{I}$ & $R^{+}=\emptyset$\\
    up $U$ & $U^{-}=\emptyset$ & $U^{+}=\{p\in \mathcal{P}\mid p.\mathrm{name}\in \mathcal{I}.\mathrm{name},p.\mathrm{version}>\max(\mathcal{I}.\mathrm{version}(p))\}$\\
    down $D$ & $D^{-}=\emptyset$ & $D^{+}=\{p\in \mathcal{P}\mid p.\mathrm{name}\in \mathcal{I}.\mathrm{name},p.\mathrm{version}<\min(\mathcal{I}.\mathrm{version}(p))\}$\\
  \end{tabular}\caption{Minimal and Maximal Sets\label{tab:Minimal-and-Maximal}}
\end{table}

\begin{itemize}
  \item Initialization
    \begin{itemize}
      \item Package Selector: $X\in\{S,C,N,R,U,D\}$
        \begin{itemize}
          \item for $X^{-}$ and $X^{+}$ see Table \ref{tab:Minimal-and-Maximal}
        \end{itemize}
      \item Measurements
        \begin{itemize}
          \item $\mathrm{init}({-}\mathit{count}(X))=X^{-}$
          \item $\mathrm{init}({+}\mathit{count}(X))=X^{+}$
          \item $\mathrm{init}({-}\mathit{sum}(X,\mathrm{attr}))=\{p\in X^{-}\mid p.\mathrm{attr}>0\}\cup\{p\in X^{+}\mid p.\mathrm{attr}<0\}$
          \item $\mathrm{init}({+}\mathit{sum}(X,\mathrm{attr}))=\{p\in X^{-}\mid p.\mathrm{attr}<0\}\cup\{p\in X^{+}\mid p.\mathrm{attr}>0\}$
          \item $\mathrm{init}({-}\mathit{notuptodate}(X))=\{p\in X^{-}\mid p.\mathrm{version}=\max(\mathcal{P}.\mathrm{version}(p))\}$
          \item $\mathrm{init}({+}\mathit{notuptodate}(X))=\{p\in X^{+}\mid p.\mathrm{version}\not=\max(\mathcal{P}.\mathrm{version}(p))\}$
          \item $\mathrm{init}({-}\mathit{unsat\_recommends}(X))=\{p\in X^{-}\mid p.\mathrm{recommends}\neq\emptyset\}$
          \item $\mathrm{init}({+}\mathit{unsat\_recommends}(X))=\{p\in X^{+}\mid p.\mathrm{recommends}\neq\emptyset\}$
          \item $\mathrm{init}({-}\mathit{aligned}(X,\mathrm{group},\mathrm{value}))=\{p\in X^{-}\mid q\in \mathcal{P}, q.\mathrm{group} = p.\mathrm{group}, q.\mathrm{value} \neq p.\mathrm{value}\}$
          \item $\mathrm{init}({+}\mathit{aligned}(X,\mathrm{group},\mathrm{value}))=\{p\in X^{+}\mid q\in \mathcal{P}, q.\mathrm{group} = p.\mathrm{group}, q.\mathrm{value} \neq p.\mathrm{value}\}$
        \end{itemize}
    \end{itemize}
  \item Calculation
    \begin{itemize}
      \item $p\in \mathcal{C}$ and ${-}\mathit{unsat\_recommends}(X)\in\mathcal{O}$ and $p \in X^{+}\cup X^{-}$ implies $p.\mathrm{recommends}\setminus\mathcal{R}\subseteq\mathcal{C}$
      \item $p\in \mathcal{C}\setminus\mathcal{R}$ implies $p.\mathrm{depends}\setminus\mathcal{R}\subseteq\mathcal{C}$
    \end{itemize}
\end{itemize}

\section{Fact Format}

\begin{itemize}
  \item \texttt{unit($p.\mathrm{name}$,$p.\mathrm{version}$,in).} for $p\in\mathcal{C}\setminus\mathcal{R}$
  \item \texttt{unit($p.\mathrm{name}$,$p.\mathrm{version}$,out).} for $p\in\mathcal{R}$
  \item \texttt{installed($p.\mathrm{name}$,$p.\mathrm{version}$).} for $p.\mathrm{name}\in \mathcal{C}.\mathrm{name}$
  \item \texttt{maxversion($p.\mathrm{name}$,$p.\mathrm{version}$).} for $p.\mathrm{name} \in \mathcal{C}$ and $p.\mathrm{version}=\max(\mathcal{P}.\mathrm{version}(p))$
  \item \texttt{satisfies(Name,Version,Condition).} for $p\in\mathcal{C}\setminus\mathcal{R}$
    \begin{itemize}
      \item applies to various parts of the CUDF-document
        \begin{itemize}
          \item dependencies
          \item conflicts
          \item requests
          \item recommendations
          \item keep flags
        \end{itemize}
    \end{itemize}
  \item \texttt{depends($p.\mathrm{name}$,$p.\mathrm{version}$,Condition).} for $p\in\mathcal{C}\setminus\mathcal{R}$
  \item \texttt{conflict($p.\mathrm{name}$,$p.\mathrm{version}$,Condition).} for $p\in\mathcal{C}\setminus\mathcal{R}$
  \item \texttt{recommends($p.\mathrm{name}$,$p.\mathrm{version}$,Condition,Weight).}
    \begin{itemize}
      \item $\pm O\in\mathcal{O}$, $O=\mathrm{unsat\_recommends}(X)$, and $p\in\mathrm{init}({+}O)\cup\mathrm{init}({-}O)$, or
    \end{itemize}
  \item \texttt{request(Condition).}
    \begin{itemize}
      \item requests
      \item keep flags
    \end{itemize}
  \item \texttt{attribute($p.\mathrm{name}$,$p.\mathrm{version}$,Attribute,Value).}
    \begin{itemize}
      \item $\pm O\in\mathcal{O}$, $O=\mathrm{sum}(X,\mathrm{attr})$, and $p\in\mathrm{init}({+}O)\cup\mathrm{init}({-}O)$, or
      \item $\pm O\in\mathcal{O}$, $O=\mathrm{aligned}(X,\mathrm{group},\mathrm{value})$, and $p\in\mathrm{init}({+}O)\cup\mathrm{init}({-}O)$, or
    \end{itemize}
  \item \texttt{component($\mathtt{Index}$,$p.\mathrm{name}$,$p.\mathrm{version})$}
    \begin{itemize}
      \item $\mathtt{Index}$ is a subset-minimal set, s.t.:
      \begin{itemize}
        \item $p\in C\setminus\mathcal{R}\cap\mathtt{Index}$
        \item $q\in C\setminus\mathcal{R}\cap\mathtt{Index}$ if exists $r\in\mathtt{Index}$ s.t. $r\in q.\mathrm{conflicts}$ or $q\in r.\mathrm{conflicts}$
        \item $|\mathtt{Index}|>1$
      \end{itemize}
    \end{itemize}
  \item \texttt{clique($\mathtt{Index}$,$p.\mathrm{name}$,$p.\mathrm{version})$}
    \begin{itemize}
      \item $\mathtt{Index}$ is a subset-minimal set, s.t.:
      \begin{itemize}
        \item $p\in C\setminus\mathcal{R}\cap\mathtt{Index}$
        \item $q\in C\setminus\mathcal{R}\cap\mathtt{Index}$ if for all $r\in\mathtt{Index}$ holds $r\in q.\mathrm{conflicts}$ or $q\in r.\mathrm{conflicts}$, and\\$q$ is not a member of a previously printed clique
        \item $|\mathtt{Index}|>1$

      \end{itemize}
    \end{itemize}

  \item \texttt{criterion(Maximize,Selector,count,Priority).}
  \item \texttt{criterion(Maximize,Selector,sum(Attribute),Priority).}
  \item \texttt{criterion(Maximize,Selector,notuptodate,Priority).}
  \item \texttt{criterion(Maximize,Selector,unsat\_recommends,Priority).}
  \item \texttt{criterion(Maximize,Selector,aligned(Group,Value),Priority).}
\end{itemize}

\end{document}
